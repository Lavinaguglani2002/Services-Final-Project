{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import\"./Admin.css\";import api from\"../axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FrontendBlogs=()=>{const[items,setItems]=useState([]);const fetchData=async()=>{try{const response=await api.get(\"/getblog\");console.log(\"Blogs Data:\",response.data);setItems(response.data);}catch(error){console.error(\"Error fetching data:\",error);}};useEffect(()=>{fetchData();},[]);const handleDelete=async id=>{if(!window.confirm(\"Are you sure you want to delete this blog?\"))return;try{await api.delete(`/deleteblog/${id}`);alert(\"Blog deleted successfully\");setItems(items.filter(item=>item._id!==id));}catch(error){console.error(\"Failed to delete blog:\",error);alert(\"Failed to delete blog\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",children:\"Blogs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:items.map(item=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-100\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.photo,alt:item.title,className:\"card-img-top\",style:{height:\"200px\",objectFit:\"cover\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:item.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[item.content.substring(0,100),\"...\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(Link,{to:`/viewblog/${item._id}`,className:\"btn btn-primary btn-sm\",children:\"Read More\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-sm\",onClick:()=>handleDelete(item._id),children:\"Delete\"})]})]})]})},item._id))})]});};export default FrontendBlogs;","map":{"version":3,"names":["React","useEffect","useState","axios","Link","api","jsx","_jsx","jsxs","_jsxs","FrontendBlogs","items","setItems","fetchData","response","get","console","log","data","error","handleDelete","id","window","confirm","delete","alert","filter","item","_id","className","children","map","src","photo","alt","title","style","height","objectFit","content","substring","to","onClick"],"sources":["C:/Users/Allied/Desktop/Serviceproject/client/src/Admin/FrontendBlogs.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Admin.css\";\r\nimport api from \"../axios\";\r\n\r\nconst FrontendBlogs = () => {\r\n  const [items, setItems] = useState([]);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const response = await api.get(\"/getblog\");\r\n      console.log(\"Blogs Data:\", response.data);\r\n      setItems(response.data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching data:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm(\"Are you sure you want to delete this blog?\")) return;\r\n\r\n    try {\r\n      await api.delete(`/deleteblog/${id}`);\r\n      alert(\"Blog deleted successfully\");\r\n      setItems(items.filter((item) => item._id !== id));\r\n    } catch (error) {\r\n      console.error(\"Failed to delete blog:\", error);\r\n      alert(\"Failed to delete blog\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container my-5\">\r\n      <h2 className=\"text-center mb-4\">Blogs</h2>\r\n      <div className=\"row\">\r\n        {items.map((item) => (\r\n          <div key={item._id} className=\"col-md-4 mb-4\">\r\n            <div className=\"card h-100\">\r\n              <img src={item.photo} alt={item.title} className=\"card-img-top\" style={{ height: \"200px\", objectFit: \"cover\" }} />\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">{item.title}</h5>\r\n                <p className=\"card-text\">{item.content.substring(0, 100)}...</p>\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <Link to={`/viewblog/${item._id}`} className=\"btn btn-primary btn-sm\">\r\n                    Read More\r\n                  </Link>\r\n                  <button className=\"btn btn-danger btn-sm\" onClick={() => handleDelete(item._id)}>\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      </div>\r\n  );\r\n};\r\n\r\nexport default FrontendBlogs;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}