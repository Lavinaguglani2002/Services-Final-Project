{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import\"./Admin.css\";import api from\"../axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GetBlogs=()=>{const[items,setItems]=useState([]);const fetchData=async()=>{try{const response=await api.get(\"/getblog\");console.log(\"Blogs Data:\",response.data);setItems(response.data);}catch(error){console.error(\"Error fetching data:\",error);}};useEffect(()=>{fetchData();},[]);const handleDelete=async id=>{if(!window.confirm(\"Are you sure you want to delete this blog?\"))return;try{await api.delete(`/deleteblog/${id}`);alert(\"Blog deleted successfully\");setItems(items.filter(item=>item._id!==id));}catch(error){console.error(\"Failed to delete blog:\",error);alert(\"Failed to delete blog\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",children:\"Blogs\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Content\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:item.photo,alt:item.title,className:\"blog-thumbnail\",style:{width:\"80px\",height:\"80px\",objectFit:\"cover\"}})}),/*#__PURE__*/_jsx(\"td\",{children:item.title}),/*#__PURE__*/_jsxs(\"td\",{children:[item.content.substring(0,100),\"...\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn  \",onClick:()=>handleDelete(item._id),children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:`/dashboard/UpdateBlog/${item._id}`,children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger \",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-edit\"})})})})]},item._id))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-4\",children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard/blogs\",className:\"btn btn-success\",children:\"Add Blogs\"})})]});};export default GetBlogs;","map":{"version":3,"names":["React","useEffect","useState","axios","Link","api","jsx","_jsx","jsxs","_jsxs","GetBlogs","items","setItems","fetchData","response","get","console","log","data","error","handleDelete","id","window","confirm","delete","alert","filter","item","_id","className","children","map","src","photo","alt","title","style","width","height","objectFit","content","substring","onClick","to"],"sources":["C:/Users/Allied/Desktop/Serviceproject/client/src/Admin/GetBlogs.js"],"sourcesContent":["\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Admin.css\";\r\nimport api from \"../axios\";\r\n\r\nconst GetBlogs = () => {\r\n  const [items, setItems] = useState([]);\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const response = await api.get(\"/getblog\");\r\n      console.log(\"Blogs Data:\", response.data);\r\n      setItems(response.data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching data:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm(\"Are you sure you want to delete this blog?\")) return;\r\n\r\n    try {\r\n      await api.delete(`/deleteblog/${id}`);\r\n      alert(\"Blog deleted successfully\");\r\n      setItems(items.filter((item) => item._id !== id));\r\n    } catch (error) {\r\n      console.error(\"Failed to delete blog:\", error);\r\n      alert(\"Failed to delete blog\");\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"container my-5\">\r\n      <h2 className=\"text-center mb-4\">Blogs</h2>\r\n      <table className=\"table table-bordered\">\r\n        <thead>\r\n          <tr>\r\n            <th>Image</th>\r\n            <th>Title</th>\r\n            <th>Content</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {items.map((item) => (\r\n            <tr key={item._id}>\r\n              <td>\r\n                <img src={item.photo} alt={item.title} className=\"blog-thumbnail\" style={{ width: \"80px\", height: \"80px\", objectFit: \"cover\" }} />\r\n              </td>\r\n              <td>{item.title}</td>\r\n              <td>{item.content.substring(0, 100)}...</td>\r\n\r\n              <button className=\"btn  \" onClick={() => handleDelete(item._id)}>\r\n                    <i className=\"fa fa-trash\"></i>\r\n                  </button>\r\n                  <td>\r\n                    <Link to={`/dashboard/UpdateBlog/${item._id}`}>\r\n                  <button className=\"btn btn-danger \" >\r\n                    <i className=\"fa fa-edit\"></i>\r\n                  </button>\r\n                  </Link>\r\n                  </td>\r\n\r\n\r\n\r\n            </tr>\r\n            \r\n          ))}\r\n\r\n        </tbody>\r\n\r\n      </table>\r\n      <div className=\"text-center mt-4\">\r\n        <Link to=\"/dashboard/blogs\" className=\"btn btn-success\">\r\n          Add Blogs\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GetBlogs;\r\n"],"mappings":"AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,aAAa,CACpB,MAAO,CAAAC,GAAG,KAAM,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3B,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAW,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAT,GAAG,CAACU,GAAG,CAAC,UAAU,CAAC,CAC1CC,OAAO,CAACC,GAAG,CAAC,aAAa,CAAEH,QAAQ,CAACI,IAAI,CAAC,CACzCN,QAAQ,CAACE,QAAQ,CAACI,IAAI,CAAC,CACzB,CAAE,MAAOC,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CACF,CAAC,CAEDlB,SAAS,CAAC,IAAM,CACdY,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAGN,KAAM,CAAAO,YAAY,CAAG,KAAO,CAAAC,EAAE,EAAK,CACjC,GAAI,CAACC,MAAM,CAACC,OAAO,CAAC,4CAA4C,CAAC,CAAE,OAEnE,GAAI,CACF,KAAM,CAAAlB,GAAG,CAACmB,MAAM,CAAC,eAAeH,EAAE,EAAE,CAAC,CACrCI,KAAK,CAAC,2BAA2B,CAAC,CAClCb,QAAQ,CAACD,KAAK,CAACe,MAAM,CAAEC,IAAI,EAAKA,IAAI,CAACC,GAAG,GAAKP,EAAE,CAAC,CAAC,CACnD,CAAE,MAAOF,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9CM,KAAK,CAAC,uBAAuB,CAAC,CAChC,CACF,CAAC,CACD,mBACEhB,KAAA,QAAKoB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BvB,IAAA,OAAIsB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,OAAK,CAAI,CAAC,cAC3CrB,KAAA,UAAOoB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACrCvB,IAAA,UAAAuB,QAAA,cACErB,KAAA,OAAAqB,QAAA,eACEvB,IAAA,OAAAuB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdvB,IAAA,OAAAuB,QAAA,CAAI,OAAK,CAAI,CAAC,cACdvB,IAAA,OAAAuB,QAAA,CAAI,SAAO,CAAI,CAAC,EACd,CAAC,CACA,CAAC,cACRvB,IAAA,UAAAuB,QAAA,CACGnB,KAAK,CAACoB,GAAG,CAAEJ,IAAI,eACdlB,KAAA,OAAAqB,QAAA,eACEvB,IAAA,OAAAuB,QAAA,cACEvB,IAAA,QAAKyB,GAAG,CAAEL,IAAI,CAACM,KAAM,CAACC,GAAG,CAAEP,IAAI,CAACQ,KAAM,CAACN,SAAS,CAAC,gBAAgB,CAACO,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEC,SAAS,CAAE,OAAQ,CAAE,CAAE,CAAC,CAChI,CAAC,cACLhC,IAAA,OAAAuB,QAAA,CAAKH,IAAI,CAACQ,KAAK,CAAK,CAAC,cACrB1B,KAAA,OAAAqB,QAAA,EAAKH,IAAI,CAACa,OAAO,CAACC,SAAS,CAAC,CAAC,CAAE,GAAG,CAAC,CAAC,KAAG,EAAI,CAAC,cAE5ClC,IAAA,WAAQsB,SAAS,CAAC,OAAO,CAACa,OAAO,CAAEA,CAAA,GAAMtB,YAAY,CAACO,IAAI,CAACC,GAAG,CAAE,CAAAE,QAAA,cAC1DvB,IAAA,MAAGsB,SAAS,CAAC,aAAa,CAAI,CAAC,CACzB,CAAC,cACTtB,IAAA,OAAAuB,QAAA,cACEvB,IAAA,CAACH,IAAI,EAACuC,EAAE,CAAE,yBAAyBhB,IAAI,CAACC,GAAG,EAAG,CAAAE,QAAA,cAChDvB,IAAA,WAAQsB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,cACjCvB,IAAA,MAAGsB,SAAS,CAAC,YAAY,CAAI,CAAC,CACxB,CAAC,CACH,CAAC,CACH,CAAC,GAhBFF,IAAI,CAACC,GAoBV,CAEL,CAAC,CAEG,CAAC,EAEH,CAAC,cACRrB,IAAA,QAAKsB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BvB,IAAA,CAACH,IAAI,EAACuC,EAAE,CAAC,kBAAkB,CAACd,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,WAExD,CAAM,CAAC,CACJ,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAApB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}