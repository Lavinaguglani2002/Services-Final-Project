{"ast":null,"code":"// // import React, { useEffect, useState } from \"react\";\n// // import \"./BlogsForm.css\";\n// // import axios from \"axios\";\n// // import { useNavigate, useParams } from \"react-router-dom\";\n// // const SubCategoryForm = () => {\n// //   const { categoryId } = useParams();\n// //   const navigate = useNavigate();\n// //   const [categories, setCategories] = useState([]);\n// //   const [selectedCategory, setSelectedCategory] = useState(categoryId || \"\"); // ✅ Store selected category ID\n// //   const [name, setName] = useState(\"\");\n// //   const [image, setImage] = useState(\"\");\n// //   const [photourl, setPhotourl] = useState(\"\");\n// //   const [description, setDescription] = useState(\"\");\n// //   // ✅ Fetch Categories\n// //   useEffect(() => {\n// //     axios.get(\"http://localhost:8000/categories\")\n// //       .then((res) => setCategories(res.data))\n// //       .catch((err) => console.error(\"Error fetching categories:\", err));\n// //   }, []);\n// //   // ✅ Upload Image\n// //   useEffect(() => {\n// //     if (image) Upload(image);\n// //   }, [image]);\n// //   const Upload = (image) => {\n// //     if (!image) {\n// //       alert(\"Please select a photo\");\n// //       return;\n// //     }\n// //     const data = new FormData();\n// //     data.append(\"file\", image);\n// //     data.append(\"upload_preset\", \"bloggs\");\n// //     data.append(\"cloud_name\", \"dnrels1zh\");\n// //     fetch(\"https://api.cloudinary.com/v1_1/dnrels1zh/image/upload\", {\n// //       method: \"POST\",\n// //       body: data,\n// //     })\n// //       .then((res) => res.json())\n// //       .then((data) => {\n// //         if (data.url) {\n// //           setPhotourl(data.url);\n// //           localStorage.setItem(\"image\", data.url);\n// //           alert(\"Photo uploaded successfully\");\n// //         } else {\n// //           alert(\"Failed to upload photo\");\n// //         }\n// //       })\n// //       .catch((err) => {\n// //         console.error(\"Upload error:\", err);\n// //         alert(\"Error uploading photo\");\n// //       });\n// //   };\n// //   // ✅ Handle Form Submit\n// //   const handleSubmit = async (e) => {\n// //     e.preventDefault();\n// //     if (!selectedCategory || !name || !description || !photourl) {\n// //       alert(\"All fields are required\");\n// //       return;\n// //     }\n// //     alert(\"Submitting Subcategory...\");\n// //     try {\n// //       const formData = {\n// //         name,\n// //         image: photourl,\n// //         description\n// //       };\n// //       console.log(\"Submitting Data:\", formData);\n// //       const response = await axios.post(`http://localhost:8000/addsubcategory/${categoryId}`, formData, {\n// //         headers: { \"Content-Type\": \"application/json\" },\n// //       });\n// //       if (response.status === 201) {\n// //         alert(\"Subcategory posted successfully\");\n// //         setName(\"\");\n// //         setImage(\"\");\n// //         setDescription(\"\");\n// //         navigate(\"/smallcategory\");\n// //       }\n// //     } catch (error) {\n// //       console.error(\"Error submitting subcategory:\", error);\n// //       alert(\"Failed to submit subcategory\");\n// //     }\n// //   };\n// //   return (\n// //     <div className=\"blog-container container mt-4 mb-4\">\n// //       <div className=\"row justify-content-center m-4\">\n// //         <div className=\"col-md-8 col-lg-6\">\n// //           <div className=\"card px-4 py-3 shadow-sm\">\n// //             <h2 className=\"text-center mb-3\">Add a Subcategory Post</h2>\n// //             <form onSubmit={handleSubmit}>\n// //               {/* ✅ Category Selection */}\n// //               <div className=\"mb-3\">\n// //                 <label className=\"form-label\">Select Category</label>\n// //                 <select\n// //                   className=\"form-control\"\n// //                   value={selectedCategory}\n// //                   onChange={(e) => setSelectedCategory(e.target.value)}\n// //                   required\n// //                 >\n// //                   <option value=\"\">Select Category</option>\n// //                   {categories.map((cat) => (\n// //                     <option key={cat._id} value={cat._id}>\n// //                       {cat.name}\n// //                     </option>\n// //                   ))}\n// //                 </select>\n// //               </div>\n// //               {/* ✅ Subcategory Title */}\n// //               <div className=\"mb-3\">\n// //                 <label className=\"form-label\">Subcategory Title</label>\n// //                 <input\n// //                   type=\"text\"\n// //                   className=\"form-control\"\n// //                   placeholder=\"Enter subcategory title\"\n// //                   value={name}\n// //                   onChange={(e) => setName(e.target.value)}\n// //                   required\n// //                 />\n// //               </div>\n// //               {/* ✅ Image Upload */}\n// //               <div className=\"mb-3\">\n// //                 <label className=\"form-label\">Image</label>\n// //                 <input type=\"file\" className=\"form-control\" onChange={(e) => setImage(e.target.files[0])} />\n// //               </div>\n// //               {/* ✅ Description */}\n// //               <div className=\"mb-3\">\n// //                 <label className=\"form-label\">Category Description</label>\n// //                 <textarea\n// //                   className=\"form-control\"\n// //                   rows=\"5\"\n// //                   placeholder=\"Write your subcategory description...\"\n// //                   value={description}\n// //                   onChange={(e) => setDescription(e.target.value)}\n// //                   required\n// //                 ></textarea>\n// //               </div>\n// //               {/* ✅ Submit Button */}\n// //               <button type=\"submit\" className=\"btn btn-primary w-100\">\n// //                 Publish Subcategory\n// //               </button>\n// //             </form>\n// //           </div>\n// //         </div>\n// //         {/* Blog Images */}\n// //         <div className=\"col-md-6 mt-3 d-flex flex-column align-items-center\">\n// //           <img\n// //             src=\"https://elearningindustry.com/wp-content/uploads/2013/09/how-to-use-blogs-in-the-classroom.jpg\"\n// //             alt=\"Blog\"\n// //             className=\"blog-image img-fluid rounded shadow\"\n// //           />\n// //           <img\n// //             src=\"https://img.freepik.com/free-photo/online-message-blog-chat-communication-envelop-graphic-icon-concept_53876-139717.jpg\"\n// //             alt=\"Blog\"\n// //             className=\"blog-image img-fluid rounded shadow mt-4 d-none d-md-block\"\n// //           />\n// //         </div>\n// //       </div>\n// //     </div>\n// //   );\n// // };\n// // export default SubCategoryForm;\n// // // import React, { useEffect, useState } from 'react';\n// // // const  SubCategoryy = () => {\n// // //   const [categories, setCategories] = useState([]); // State for storing categories\n// // //   const [categorytitle, setCategoryTitle] = useState(\"\"); // Selected category\n// // //   const [subcategorytitle, setSubcategoryTitle] = useState(\"\"); // Subcategory name\n// // //   const [photo, setPhoto] = useState(\"\");\n// // //   const [photourl, setPhotourl] = useState(\"\");\n// // //   const [content, setContent] = useState(\"\");\n// // //   // Fetch categories on component mount\n// // //   useEffect(() => {\n// // //     fetchCategories();\n// // //   }, []);\n// // //   const fetchCategories = async () => {\n// // //     try {\n// // //       const response = await fetch(\"http://localhost:8000/categories\");\n// // //       const data = await response.json();\n// // //       setCategories(data); // Store categories in state\n// // //     } catch (error) {\n// // //       console.error(\"Error fetching categories:\", error);\n// // //     }\n// // //   };\n// // //   useEffect(() => {\n// // //     console.log(\"Selected Photo:\", photo);\n// // //     if (photo) {\n// // //       Upload(photo);\n// // //     }\n// // //   }, [photo]);\n// // //   const Upload = async (photo) => {\n// // //     if (!photo) {\n// // //       alert(\"Please select a photo\");\n// // //       return;\n// // //     }\n// // //     const data = new FormData();\n// // //     data.append(\"file\", photo);\n// // //     data.append(\"upload_preset\", \"bloggs\");\n// // //     data.append(\"cloud_name\", \"dnrels1zh\");\n// // //     fetch(\"https://api.cloudinary.com/v1_1/dnrels1zh/image/upload\", {\n// // //     method: \"POST\",\n// // //       body: data,\n// // //     })\n// // //       .then((res) => res.json())\n// // //       .then((data) => {\n// // //         if (data.url) {\n// // //           setPhotourl(data.url);\n// // //           localStorage.setItem(\"photo\", data.url);\n// // //         } else {\n// // //           alert(\"Failed to upload photo\");\n// // //         }\n// // //       })\n// // //       .catch((err) => {\n// // //         console.error(\"Upload error:\", err);\n// // //         alert(\"Error uploading photo\");\n// // //       });\n// // //   };\n// // //   const handleSubmit = async (e) => {\n// // //     e.preventDefault();\n// // //     console.log(\"categorytitle:\", categorytitle);\n// // //     console.log(\"subcategorytitle:\", subcategorytitle);\n// // //     console.log(\"photourl:\", photourl);\n// // //     if (!categorytitle || !subcategorytitle || !photourl || !content) {\n// // //       alert(\"All fields are required\");\n// // //       return;\n// // //     }\n// // //     alert(\"Submitting Sub-Category...\");\n// // //     try {\n// // //       const response = await fetch(\"http://localhost:8000/addsubcategory\", {\n// // //         method: \"POST\",\n// // //         headers: { \"Content-Type\": \"application/json\" },\n// // //         body: JSON.stringify({ \n// // //           name: categorytitle, // ✅ Ab categoryname sahi pass ho raha hai\n// // //           subcategoryname: subcategorytitle, \n// // //           subcategoryimage: photourl, \n// // //           subcategorydescription: content\n// // //         }),\n// // //       });\n// // //       if (response.status === 201) {\n// // //         alert(\"Sub-Category added successfully\");\n// // //         setCategoryTitle(\"\");\n// // //         setSubcategoryTitle(\"\");\n// // //         setPhoto(\"\");\n// // //         setPhotourl(\"\");\n// // //         setContent(\"\");\n// // //       }\n// // //     } catch (error) {\n// // //       console.error(\"Error submitting sub-category:\", error);\n// // //       alert(\"Failed to submit sub-category\");\n// // //     }\n// // //   };\n// // //   return (\n// // //     <div className=\"container mt-5 mb-4\">\n// // //       <div className=\"row justify-content-center m-4\">\n// // //         <div className=\"col-lg-6\">\n// // //           <div className=\"card px-4 py-3 shadow-sm\">\n// // //             <h2 className=\"text-center mb-3\">Add Sub-Category</h2>\n// // //             <form onSubmit={handleSubmit}>\n// // //               {/* Dropdown for selecting category */}\n// // //               <div className=\"mb-3\">\n// // //                 <label className=\"form-label\">Select Category</label>\n// // //                 <select \n// // //                   className=\"form-control\" \n// // //                   value={categorytitle} \n// // //                   onChange={(e) => setCategoryTitle(e.target.value)}\n// // //                   required\n// // //                 >\n// // //                   <option value=\"\">-- Select a Category --</option>\n// // //                   {categories.map((cat) => (\n// // //                     <option key={cat._id} value={cat.name}> \n// // //                     {cat.name}\n// // //                   </option>\n// // //                   ))}\n// // //                 </select>\n// // //               </div>\n// // //               {/* Subcategory Name */}\n// // //               <div className=\"mb-3\">\n// // //                 <label className=\"form-label\">Sub-Category Name</label>\n// // //                 <input\n// // //                   type=\"text\"\n// // //                   className=\"form-control\"\n// // //                   placeholder=\"Enter sub-category\"\n// // //                   value={subcategorytitle}\n// // //                   onChange={(e) => setSubcategoryTitle(e.target.value)}\n// // //                   required\n// // //                 />\n// // //               </div>\n// // //               {/* Upload Image */}\n// // //               <div className=\"mb-3\">\n// // //                 <label className=\"form-label\">Image</label>\n// // //                 <input\n// // //                   type=\"file\"\n// // //                   className=\"form-control\"\n// // //                   onChange={(e) => setPhoto(e.target.files[0])}\n// // //                 />\n// // //               </div>\n// // //               {/* Subcategory Description */}\n// // //               <div className=\"mb-3\">\n// // //                 <label className=\"form-label\">Sub-Category Description</label>\n// // //                 <textarea\n// // //                   className=\"form-control\"\n// // //                   rows=\"5\"\n// // //                   placeholder=\"Write your description...\"\n// // //                   value={content}\n// // //                   onChange={(e) => setContent(e.target.value)}\n// // //                   required\n// // //                 ></textarea>\n// // //               </div>\n// // //               <button type=\"submit\" className=\"btn btn-primary w-100\">\n// // //                 Add Sub-Category\n// // //               </button>\n// // //             </form>\n// // //           </div>\n// // //         </div>\n// // //         {/* Blog Images */}\n// // //         <div className=\"col-lg-6 mt-3 d-flex flex-column align-items-center\">\n// // //           <img\n// // //             src=\"https://elearningindustry.com/wp-content/uploads/2013/09/how-to-use-blogs-in-the-classroom.jpg\"\n// // //             alt=\"Blog\"\n// // //             className=\"img-fluid rounded shadow\"\n// // //           />\n// // //           <img\n// // //             src=\"https://img.freepik.com/free-photo/online-message-blog-chat-communication-envelop-graphic-icon-concept_53876-139717.jpg\"\n// // //             alt=\"Blog\"\n// // //             className=\"img-fluid rounded shadow mt-4\"\n// // //           />\n// // //         </div>\n// // //       </div>\n// // //     </div>\n// // //   );\n// // // };\n// // // export default SubCategoryy;\n// import React, { useState, useEffect } from \"react\";\n// import axios from \"axios\";\n// import { Link, useParams } from \"react-router-dom\";\n// import { useNavigate } from \"react-router-dom\";\n// const SubCategoryForm = () => {\n//   const {categoryId}=useParams()\n//   const navigate = useNavigate();\n//   const [categories, setCategories] = useState([]); // ✅ Categories List\n//   const [selectedCategory, setSelectedCategory] = useState(\"\"); // ✅ Selected Category\n//   const [name, setName] = useState(\"\");\n//   const [image, setImage] = useState(\"\");\n//   const [photourl, setPhotourl] = useState(\"\");\n//   const [description, setDescription] = useState(\"\");\n//   // ✅ Fetch Categories from API\n//   useEffect(() => {\n//     const fetchCategories = async () => {\n//       try {\n//         const response = await axios.get(\"http://localhost:8000/categories\");\n//         setCategories(response.data);\n//       } catch (error) {\n//         console.error(\"Error fetching categories:\", error);\n//       }\n//     };\n//     fetchCategories();\n//   }, []);\n//   // ✅ Upload Image to Cloudinary\n//   const uploadImage = (file) => {\n//     if (!file) {\n//       alert(\"Please select an image\");\n//       return;\n//     }\n//     const data = new FormData();\n//     data.append(\"file\", file);\n//     data.append(\"upload_preset\", \"bloggs\");\n//     data.append(\"cloud_name\", \"dnrels1zh\");\n//     fetch(\"https://api.cloudinary.com/v1_1/dnrels1zh/image/upload\", {\n//       method: \"POST\",\n//       body: data,\n//     })\n//       .then((res) => res.json())\n//       .then((data) => {\n//         if (data.url) {\n//           setPhotourl(data.url);\n//           alert(\"Image uploaded successfully!\");\n//         } else {\n//           alert(\"Image upload failed!\");\n//         }\n//       })\n//       .catch((err) => console.error(\"Image upload error:\", err));\n//   };\n//   // ✅ Handle Image Selection\n//   const handleImageChange = (e) => {\n//     const file = e.target.files[0];\n//     setImage(file);\n//     uploadImage(file);\n//   };\n//   // ✅ Handle Form Submission\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     if (!selectedCategory || !name || !description || !photourl) {\n//       alert(\"All fields are required!\");\n//       return;\n//     }\n//     try {\n//       const formData = { name, image: photourl, description };\n//       const response = await axios.post(\n//         `http://localhost:8000/addsubcategory/${selectedCategory}`,\n//         formData,\n//         { headers: { \"Content-Type\": \"application/json\" } }\n//       );\n//       if (response.status === 201) {\n//         alert(\"Subcategory added successfully!\");\n//         setName(\"\");\n//         setImage(\"\");\n//         setPhotourl(\"\");\n//         setDescription(\"\");\n//         navigate(\"/smallcategory\");\n//       }\n//     } catch (error) {\n//       console.error(\"Error submitting subcategory:\", error);\n//       alert(\"Failed to submit subcategory!\");\n//     }\n//   };\n//   return (\n//     <div className=\"container mt-4 mb-4\">\n//       <div className=\"row justify-content-center\">\n//         <div className=\"col-md-8 col-lg-6\">\n//           <div className=\"card px-4 py-3 shadow-sm\">\n//             <h2 className=\"text-center mb-3\">Add a Subcategory</h2>\n//             <form onSubmit={handleSubmit}>\n//               {/* ✅ Select Category */}\n//               <div className=\"mb-3\">\n//                 <label className=\"form-label\">Select Category</label>\n//                 <select\n//                   className=\"form-control\"\n//                   value={selectedCategory}\n//                   onChange={(e) => setSelectedCategory(e.target.value)}\n//                   required\n//                 >\n//                   <option value=\"\">Choose a category</option>\n//                   {categories.map((category) => (\n//                     <option key={category._id} value={category._id}>\n//                       {category.name}\n//                     </option>\n//                   ))}\n//                 </select>\n//               </div>\n//               {/* ✅ Subcategory Title */}\n//               <div className=\"mb-3\">\n//                 <label className=\"form-label\">Subcategory Title</label>\n//                 <input\n//                   type=\"text\"\n//                   className=\"form-control\"\n//                   placeholder=\"Enter subcategory title\"\n//                   value={name}\n//                   onChange={(e) => setName(e.target.value)}\n//                   required\n//                 />\n//               </div>\n//               {/* ✅ Image Upload */}\n//               <div className=\"mb-3\">\n//                 <label className=\"form-label\">Image</label>\n//                 <input type=\"file\" className=\"form-control\" onChange={handleImageChange} />\n//               </div>\n//               {/* ✅ Description */}\n//               <div className=\"mb-3\">\n//                 <label className=\"form-label\">Description</label>\n//                 <textarea\n//                   className=\"form-control\"\n//                   rows=\"5\"\n//                   placeholder=\"Write description...\"\n//                   value={description}\n//                   onChange={(e) => setDescription(e.target.value)}\n//                   required\n//                 ></textarea>\n//               </div>\n//               {/* ✅ Submit Button */}\n//               <button type=\"submit\" className=\"btn btn-primary w-100\">\n//                 Publish Subcategory\n//               </button>\n//               <Link to={`/getsubcategory/${categoryId}`}>View Subcategories</Link> \n//             </form>\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n// export default SubCategoryForm;\nimport React,{useEffect,useState}from'react';import{Link,useNavigate}from'react-router-dom';import api from'../axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SubCategories=()=>{const navigate=useNavigate();const[categories,setCategories]=useState([]);// State for storing categories\nconst[categorytitle,setCategoryTitle]=useState(\"\");// Selected category\nconst[subcategorytitle,setSubcategoryTitle]=useState(\"\");// Subcategory name\nconst[photo,setPhoto]=useState(\"\");const[photourl,setPhotourl]=useState(\"\");const[content,setContent]=useState(\"\");// Fetch categories on component mount\nuseEffect(()=>{fetchCategories();},[]);const fetchCategories=async()=>{try{const response=await api.get(\"/categories\");// Using axios to send GET request\nsetCategories(response.data);// Store categories in state\n}catch(error){console.error(\"Error fetching categories:\",error);}};useEffect(()=>{console.log(\"Selected Photo:\",photo);if(photo){Upload(photo);}},[photo]);const Upload=async photo=>{if(!photo){alert(\"Please select a photo\");return;}const data=new FormData();data.append(\"file\",photo);data.append(\"upload_preset\",\"bloggs\");data.append(\"cloud_name\",\"dnrels1zh\");fetch(\"https://api.cloudinary.com/v1_1/dnrels1zh/image/upload\",{method:\"POST\",body:data}).then(res=>res.json()).then(data=>{if(data.url){setPhotourl(data.url);localStorage.setItem(\"photo\",data.url);}else{alert(\"Failed to upload photo\");}}).catch(err=>{console.error(\"Upload error:\",err);alert(\"Error uploading photo\");});};const handleSubmit=async e=>{e.preventDefault();console.log(\"categorytitle:\",categorytitle);console.log(\"subcategorytitle:\",subcategorytitle);console.log(\"photourl:\",photourl);if(!categorytitle||!subcategorytitle||!photourl||!content){alert(\"All fields are required\");return;}alert(\"Submitting Sub-Category...\");try{const response=await api.post(\"/insertsubcategory\",{categoryname:categorytitle,subcategoryname:subcategorytitle,subcategoryimage:photourl,content:content});if(response.status===201){alert(\"Sub-Category added successfully\");navigate(\"/dashboard/smallsubcategory\");setCategoryTitle(\"\");setSubcategoryTitle(\"\");setPhoto(\"\");setPhotourl(\"\");setContent(\"\");}}catch(error){console.error(\"Error submitting sub-category:\",error);alert(\"Failed to submit sub-category\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row justify-content-center m-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/dashboard/getsmallsubcategory\",children:\"Get SubCategory\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card px-4 py-3 shadow-sm\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-3\",children:\"Add Sub-Category\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Select Category\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",value:categorytitle,onChange:e=>setCategoryTitle(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select a Category --\"}),categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat.categoryname,children:cat.categoryname},cat._id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Sub-Category Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Enter sub-category\",value:subcategorytitle,onChange:e=>setSubcategoryTitle(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control\",onChange:e=>setPhoto(e.target.files[0])})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Sub-Category Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",rows:\"5\",placeholder:\"Write your description...\",value:content,onChange:e=>setContent(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary w-100\",children:\"Add Sub-Category\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 mt-3 d-flex flex-column align-items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://elearningindustry.com/wp-content/uploads/2013/09/how-to-use-blogs-in-the-classroom.jpg\",alt:\"Blog\",className:\"img-fluid rounded shadow\"}),/*#__PURE__*/_jsx(\"img\",{src:\"https://img.freepik.com/free-photo/online-message-blog-chat-communication-envelop-graphic-icon-concept_53876-139717.jpg\",alt:\"Blog\",className:\"img-fluid rounded shadow mt-4\"})]})]})});};export default SubCategories;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","api","jsx","_jsx","jsxs","_jsxs","SubCategories","navigate","categories","setCategories","categorytitle","setCategoryTitle","subcategorytitle","setSubcategoryTitle","photo","setPhoto","photourl","setPhotourl","content","setContent","fetchCategories","response","get","data","error","console","log","Upload","alert","FormData","append","fetch","method","body","then","res","json","url","localStorage","setItem","catch","err","handleSubmit","e","preventDefault","post","categoryname","subcategoryname","subcategoryimage","status","className","children","to","onSubmit","value","onChange","target","required","map","cat","_id","type","placeholder","files","rows","src","alt"],"sources":["C:/Users/Allied/Desktop/Serviceproject/client/src/Admin/SubCategoryy.js"],"sourcesContent":["// // import React, { useEffect, useState } from \"react\";\r\n// // import \"./BlogsForm.css\";\r\n// // import axios from \"axios\";\r\n// // import { useNavigate, useParams } from \"react-router-dom\";\r\n\r\n// // const SubCategoryForm = () => {\r\n// //   const { categoryId } = useParams();\r\n// //   const navigate = useNavigate();\r\n\r\n// //   const [categories, setCategories] = useState([]);\r\n// //   const [selectedCategory, setSelectedCategory] = useState(categoryId || \"\"); // ✅ Store selected category ID\r\n// //   const [name, setName] = useState(\"\");\r\n// //   const [image, setImage] = useState(\"\");\r\n// //   const [photourl, setPhotourl] = useState(\"\");\r\n// //   const [description, setDescription] = useState(\"\");\r\n\r\n// //   // ✅ Fetch Categories\r\n// //   useEffect(() => {\r\n// //     axios.get(\"http://localhost:8000/categories\")\r\n// //       .then((res) => setCategories(res.data))\r\n// //       .catch((err) => console.error(\"Error fetching categories:\", err));\r\n// //   }, []);\r\n\r\n// //   // ✅ Upload Image\r\n// //   useEffect(() => {\r\n// //     if (image) Upload(image);\r\n// //   }, [image]);\r\n\r\n// //   const Upload = (image) => {\r\n// //     if (!image) {\r\n// //       alert(\"Please select a photo\");\r\n// //       return;\r\n// //     }\r\n\r\n// //     const data = new FormData();\r\n// //     data.append(\"file\", image);\r\n// //     data.append(\"upload_preset\", \"bloggs\");\r\n// //     data.append(\"cloud_name\", \"dnrels1zh\");\r\n\r\n// //     fetch(\"https://api.cloudinary.com/v1_1/dnrels1zh/image/upload\", {\r\n// //       method: \"POST\",\r\n// //       body: data,\r\n// //     })\r\n// //       .then((res) => res.json())\r\n// //       .then((data) => {\r\n// //         if (data.url) {\r\n// //           setPhotourl(data.url);\r\n// //           localStorage.setItem(\"image\", data.url);\r\n// //           alert(\"Photo uploaded successfully\");\r\n// //         } else {\r\n// //           alert(\"Failed to upload photo\");\r\n// //         }\r\n// //       })\r\n// //       .catch((err) => {\r\n// //         console.error(\"Upload error:\", err);\r\n// //         alert(\"Error uploading photo\");\r\n// //       });\r\n// //   };\r\n\r\n// //   // ✅ Handle Form Submit\r\n// //   const handleSubmit = async (e) => {\r\n// //     e.preventDefault();\r\n\r\n// //     if (!selectedCategory || !name || !description || !photourl) {\r\n// //       alert(\"All fields are required\");\r\n// //       return;\r\n// //     }\r\n\r\n// //     alert(\"Submitting Subcategory...\");\r\n\r\n// //     try {\r\n// //       const formData = {\r\n// //         name,\r\n// //         image: photourl,\r\n// //         description\r\n// //       };\r\n\r\n// //       console.log(\"Submitting Data:\", formData);\r\n\r\n// //       const response = await axios.post(`http://localhost:8000/addsubcategory/${categoryId}`, formData, {\r\n// //         headers: { \"Content-Type\": \"application/json\" },\r\n// //       });\r\n\r\n// //       if (response.status === 201) {\r\n// //         alert(\"Subcategory posted successfully\");\r\n// //         setName(\"\");\r\n// //         setImage(\"\");\r\n// //         setDescription(\"\");\r\n// //         navigate(\"/smallcategory\");\r\n// //       }\r\n// //     } catch (error) {\r\n// //       console.error(\"Error submitting subcategory:\", error);\r\n// //       alert(\"Failed to submit subcategory\");\r\n// //     }\r\n// //   };\r\n\r\n// //   return (\r\n// //     <div className=\"blog-container container mt-4 mb-4\">\r\n// //       <div className=\"row justify-content-center m-4\">\r\n// //         <div className=\"col-md-8 col-lg-6\">\r\n// //           <div className=\"card px-4 py-3 shadow-sm\">\r\n// //             <h2 className=\"text-center mb-3\">Add a Subcategory Post</h2>\r\n// //             <form onSubmit={handleSubmit}>\r\n// //               {/* ✅ Category Selection */}\r\n// //               <div className=\"mb-3\">\r\n// //                 <label className=\"form-label\">Select Category</label>\r\n// //                 <select\r\n// //                   className=\"form-control\"\r\n// //                   value={selectedCategory}\r\n// //                   onChange={(e) => setSelectedCategory(e.target.value)}\r\n// //                   required\r\n// //                 >\r\n// //                   <option value=\"\">Select Category</option>\r\n// //                   {categories.map((cat) => (\r\n// //                     <option key={cat._id} value={cat._id}>\r\n// //                       {cat.name}\r\n// //                     </option>\r\n// //                   ))}\r\n// //                 </select>\r\n// //               </div>\r\n\r\n// //               {/* ✅ Subcategory Title */}\r\n// //               <div className=\"mb-3\">\r\n// //                 <label className=\"form-label\">Subcategory Title</label>\r\n// //                 <input\r\n// //                   type=\"text\"\r\n// //                   className=\"form-control\"\r\n// //                   placeholder=\"Enter subcategory title\"\r\n// //                   value={name}\r\n// //                   onChange={(e) => setName(e.target.value)}\r\n// //                   required\r\n// //                 />\r\n// //               </div>\r\n\r\n// //               {/* ✅ Image Upload */}\r\n// //               <div className=\"mb-3\">\r\n// //                 <label className=\"form-label\">Image</label>\r\n// //                 <input type=\"file\" className=\"form-control\" onChange={(e) => setImage(e.target.files[0])} />\r\n// //               </div>\r\n\r\n// //               {/* ✅ Description */}\r\n// //               <div className=\"mb-3\">\r\n// //                 <label className=\"form-label\">Category Description</label>\r\n// //                 <textarea\r\n// //                   className=\"form-control\"\r\n// //                   rows=\"5\"\r\n// //                   placeholder=\"Write your subcategory description...\"\r\n// //                   value={description}\r\n// //                   onChange={(e) => setDescription(e.target.value)}\r\n// //                   required\r\n// //                 ></textarea>\r\n// //               </div>\r\n\r\n// //               {/* ✅ Submit Button */}\r\n// //               <button type=\"submit\" className=\"btn btn-primary w-100\">\r\n// //                 Publish Subcategory\r\n// //               </button>\r\n// //             </form>\r\n// //           </div>\r\n// //         </div>\r\n\r\n// //         {/* Blog Images */}\r\n// //         <div className=\"col-md-6 mt-3 d-flex flex-column align-items-center\">\r\n// //           <img\r\n// //             src=\"https://elearningindustry.com/wp-content/uploads/2013/09/how-to-use-blogs-in-the-classroom.jpg\"\r\n// //             alt=\"Blog\"\r\n// //             className=\"blog-image img-fluid rounded shadow\"\r\n// //           />\r\n// //           <img\r\n// //             src=\"https://img.freepik.com/free-photo/online-message-blog-chat-communication-envelop-graphic-icon-concept_53876-139717.jpg\"\r\n// //             alt=\"Blog\"\r\n// //             className=\"blog-image img-fluid rounded shadow mt-4 d-none d-md-block\"\r\n// //           />\r\n// //         </div>\r\n// //       </div>\r\n// //     </div>\r\n// //   );\r\n// // };\r\n\r\n// // export default SubCategoryForm;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// // // import React, { useEffect, useState } from 'react';\r\n\r\n// // // const  SubCategoryy = () => {\r\n// // //   const [categories, setCategories] = useState([]); // State for storing categories\r\n// // //   const [categorytitle, setCategoryTitle] = useState(\"\"); // Selected category\r\n// // //   const [subcategorytitle, setSubcategoryTitle] = useState(\"\"); // Subcategory name\r\n// // //   const [photo, setPhoto] = useState(\"\");\r\n// // //   const [photourl, setPhotourl] = useState(\"\");\r\n// // //   const [content, setContent] = useState(\"\");\r\n\r\n// // //   // Fetch categories on component mount\r\n// // //   useEffect(() => {\r\n// // //     fetchCategories();\r\n// // //   }, []);\r\n\r\n// // //   const fetchCategories = async () => {\r\n// // //     try {\r\n// // //       const response = await fetch(\"http://localhost:8000/categories\");\r\n// // //       const data = await response.json();\r\n// // //       setCategories(data); // Store categories in state\r\n// // //     } catch (error) {\r\n// // //       console.error(\"Error fetching categories:\", error);\r\n// // //     }\r\n// // //   };\r\n\r\n// // //   useEffect(() => {\r\n// // //     console.log(\"Selected Photo:\", photo);\r\n// // //     if (photo) {\r\n// // //       Upload(photo);\r\n// // //     }\r\n// // //   }, [photo]);\r\n\r\n// // //   const Upload = async (photo) => {\r\n// // //     if (!photo) {\r\n// // //       alert(\"Please select a photo\");\r\n// // //       return;\r\n// // //     }\r\n// // //     const data = new FormData();\r\n// // //     data.append(\"file\", photo);\r\n// // //     data.append(\"upload_preset\", \"bloggs\");\r\n// // //     data.append(\"cloud_name\", \"dnrels1zh\");\r\n\r\n// // //     fetch(\"https://api.cloudinary.com/v1_1/dnrels1zh/image/upload\", {\r\n\r\n// // //     method: \"POST\",\r\n// // //       body: data,\r\n// // //     })\r\n// // //       .then((res) => res.json())\r\n// // //       .then((data) => {\r\n// // //         if (data.url) {\r\n// // //           setPhotourl(data.url);\r\n// // //           localStorage.setItem(\"photo\", data.url);\r\n// // //         } else {\r\n// // //           alert(\"Failed to upload photo\");\r\n// // //         }\r\n// // //       })\r\n// // //       .catch((err) => {\r\n// // //         console.error(\"Upload error:\", err);\r\n// // //         alert(\"Error uploading photo\");\r\n// // //       });\r\n// // //   };\r\n\r\n// // //   const handleSubmit = async (e) => {\r\n// // //     e.preventDefault();\r\n// // //     console.log(\"categorytitle:\", categorytitle);\r\n// // //     console.log(\"subcategorytitle:\", subcategorytitle);\r\n// // //     console.log(\"photourl:\", photourl);\r\n\r\n// // //     if (!categorytitle || !subcategorytitle || !photourl || !content) {\r\n// // //       alert(\"All fields are required\");\r\n// // //       return;\r\n// // //     }\r\n// // //     alert(\"Submitting Sub-Category...\");\r\n// // //     try {\r\n// // //       const response = await fetch(\"http://localhost:8000/addsubcategory\", {\r\n// // //         method: \"POST\",\r\n// // //         headers: { \"Content-Type\": \"application/json\" },\r\n// // //         body: JSON.stringify({ \r\n// // //           name: categorytitle, // ✅ Ab categoryname sahi pass ho raha hai\r\n// // //           subcategoryname: subcategorytitle, \r\n// // //           subcategoryimage: photourl, \r\n// // //           subcategorydescription: content\r\n// // //         }),\r\n// // //       });\r\n      \r\n\r\n// // //       if (response.status === 201) {\r\n// // //         alert(\"Sub-Category added successfully\");\r\n// // //         setCategoryTitle(\"\");\r\n// // //         setSubcategoryTitle(\"\");\r\n// // //         setPhoto(\"\");\r\n// // //         setPhotourl(\"\");\r\n// // //         setContent(\"\");\r\n// // //       }\r\n// // //     } catch (error) {\r\n// // //       console.error(\"Error submitting sub-category:\", error);\r\n// // //       alert(\"Failed to submit sub-category\");\r\n// // //     }\r\n// // //   };\r\n\r\n// // //   return (\r\n// // //     <div className=\"container mt-5 mb-4\">\r\n// // //       <div className=\"row justify-content-center m-4\">\r\n// // //         <div className=\"col-lg-6\">\r\n// // //           <div className=\"card px-4 py-3 shadow-sm\">\r\n// // //             <h2 className=\"text-center mb-3\">Add Sub-Category</h2>\r\n// // //             <form onSubmit={handleSubmit}>\r\n              \r\n// // //               {/* Dropdown for selecting category */}\r\n// // //               <div className=\"mb-3\">\r\n// // //                 <label className=\"form-label\">Select Category</label>\r\n// // //                 <select \r\n// // //                   className=\"form-control\" \r\n// // //                   value={categorytitle} \r\n// // //                   onChange={(e) => setCategoryTitle(e.target.value)}\r\n// // //                   required\r\n// // //                 >\r\n// // //                   <option value=\"\">-- Select a Category --</option>\r\n// // //                   {categories.map((cat) => (\r\n// // //                     <option key={cat._id} value={cat.name}> \r\n// // //                     {cat.name}\r\n// // //                   </option>\r\n                  \r\n// // //                   ))}\r\n// // //                 </select>\r\n// // //               </div>\r\n\r\n// // //               {/* Subcategory Name */}\r\n// // //               <div className=\"mb-3\">\r\n// // //                 <label className=\"form-label\">Sub-Category Name</label>\r\n// // //                 <input\r\n// // //                   type=\"text\"\r\n// // //                   className=\"form-control\"\r\n// // //                   placeholder=\"Enter sub-category\"\r\n// // //                   value={subcategorytitle}\r\n// // //                   onChange={(e) => setSubcategoryTitle(e.target.value)}\r\n// // //                   required\r\n// // //                 />\r\n// // //               </div>\r\n\r\n// // //               {/* Upload Image */}\r\n// // //               <div className=\"mb-3\">\r\n// // //                 <label className=\"form-label\">Image</label>\r\n// // //                 <input\r\n// // //                   type=\"file\"\r\n// // //                   className=\"form-control\"\r\n// // //                   onChange={(e) => setPhoto(e.target.files[0])}\r\n// // //                 />\r\n// // //               </div>\r\n\r\n// // //               {/* Subcategory Description */}\r\n// // //               <div className=\"mb-3\">\r\n// // //                 <label className=\"form-label\">Sub-Category Description</label>\r\n// // //                 <textarea\r\n// // //                   className=\"form-control\"\r\n// // //                   rows=\"5\"\r\n// // //                   placeholder=\"Write your description...\"\r\n// // //                   value={content}\r\n// // //                   onChange={(e) => setContent(e.target.value)}\r\n// // //                   required\r\n// // //                 ></textarea>\r\n// // //               </div>\r\n\r\n// // //               <button type=\"submit\" className=\"btn btn-primary w-100\">\r\n// // //                 Add Sub-Category\r\n// // //               </button>\r\n// // //             </form>\r\n// // //           </div>\r\n// // //         </div>\r\n\r\n// // //         {/* Blog Images */}\r\n// // //         <div className=\"col-lg-6 mt-3 d-flex flex-column align-items-center\">\r\n// // //           <img\r\n// // //             src=\"https://elearningindustry.com/wp-content/uploads/2013/09/how-to-use-blogs-in-the-classroom.jpg\"\r\n// // //             alt=\"Blog\"\r\n// // //             className=\"img-fluid rounded shadow\"\r\n// // //           />\r\n// // //           <img\r\n// // //             src=\"https://img.freepik.com/free-photo/online-message-blog-chat-communication-envelop-graphic-icon-concept_53876-139717.jpg\"\r\n// // //             alt=\"Blog\"\r\n// // //             className=\"img-fluid rounded shadow mt-4\"\r\n// // //           />\r\n// // //         </div>\r\n// // //       </div>\r\n// // //     </div>\r\n// // //   );\r\n// // // };\r\n\r\n// // // export default SubCategoryy;\r\n\r\n// import React, { useState, useEffect } from \"react\";\r\n// import axios from \"axios\";\r\n// import { Link, useParams } from \"react-router-dom\";\r\n// import { useNavigate } from \"react-router-dom\";\r\n\r\n// const SubCategoryForm = () => {\r\n//   const {categoryId}=useParams()\r\n//   const navigate = useNavigate();\r\n  \r\n//   const [categories, setCategories] = useState([]); // ✅ Categories List\r\n//   const [selectedCategory, setSelectedCategory] = useState(\"\"); // ✅ Selected Category\r\n\r\n//   const [name, setName] = useState(\"\");\r\n//   const [image, setImage] = useState(\"\");\r\n//   const [photourl, setPhotourl] = useState(\"\");\r\n//   const [description, setDescription] = useState(\"\");\r\n\r\n//   // ✅ Fetch Categories from API\r\n//   useEffect(() => {\r\n//     const fetchCategories = async () => {\r\n//       try {\r\n//         const response = await axios.get(\"http://localhost:8000/categories\");\r\n//         setCategories(response.data);\r\n//       } catch (error) {\r\n//         console.error(\"Error fetching categories:\", error);\r\n//       }\r\n//     };\r\n\r\n//     fetchCategories();\r\n//   }, []);\r\n\r\n//   // ✅ Upload Image to Cloudinary\r\n//   const uploadImage = (file) => {\r\n//     if (!file) {\r\n//       alert(\"Please select an image\");\r\n//       return;\r\n//     }\r\n\r\n//     const data = new FormData();\r\n//     data.append(\"file\", file);\r\n//     data.append(\"upload_preset\", \"bloggs\");\r\n//     data.append(\"cloud_name\", \"dnrels1zh\");\r\n\r\n//     fetch(\"https://api.cloudinary.com/v1_1/dnrels1zh/image/upload\", {\r\n//       method: \"POST\",\r\n//       body: data,\r\n//     })\r\n//       .then((res) => res.json())\r\n//       .then((data) => {\r\n//         if (data.url) {\r\n//           setPhotourl(data.url);\r\n//           alert(\"Image uploaded successfully!\");\r\n//         } else {\r\n//           alert(\"Image upload failed!\");\r\n//         }\r\n//       })\r\n//       .catch((err) => console.error(\"Image upload error:\", err));\r\n//   };\r\n\r\n//   // ✅ Handle Image Selection\r\n//   const handleImageChange = (e) => {\r\n//     const file = e.target.files[0];\r\n//     setImage(file);\r\n//     uploadImage(file);\r\n//   };\r\n\r\n//   // ✅ Handle Form Submission\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n\r\n//     if (!selectedCategory || !name || !description || !photourl) {\r\n//       alert(\"All fields are required!\");\r\n//       return;\r\n//     }\r\n\r\n//     try {\r\n//       const formData = { name, image: photourl, description };\r\n\r\n//       const response = await axios.post(\r\n//         `http://localhost:8000/addsubcategory/${selectedCategory}`,\r\n//         formData,\r\n//         { headers: { \"Content-Type\": \"application/json\" } }\r\n//       );\r\n\r\n//       if (response.status === 201) {\r\n//         alert(\"Subcategory added successfully!\");\r\n//         setName(\"\");\r\n//         setImage(\"\");\r\n//         setPhotourl(\"\");\r\n//         setDescription(\"\");\r\n//         navigate(\"/smallcategory\");\r\n//       }\r\n//     } catch (error) {\r\n//       console.error(\"Error submitting subcategory:\", error);\r\n//       alert(\"Failed to submit subcategory!\");\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n    \r\n//     <div className=\"container mt-4 mb-4\">\r\n//       <div className=\"row justify-content-center\">\r\n//         <div className=\"col-md-8 col-lg-6\">\r\n//           <div className=\"card px-4 py-3 shadow-sm\">\r\n//             <h2 className=\"text-center mb-3\">Add a Subcategory</h2>\r\n//             <form onSubmit={handleSubmit}>\r\n\r\n//               {/* ✅ Select Category */}\r\n//               <div className=\"mb-3\">\r\n//                 <label className=\"form-label\">Select Category</label>\r\n//                 <select\r\n//                   className=\"form-control\"\r\n//                   value={selectedCategory}\r\n//                   onChange={(e) => setSelectedCategory(e.target.value)}\r\n//                   required\r\n//                 >\r\n//                   <option value=\"\">Choose a category</option>\r\n//                   {categories.map((category) => (\r\n//                     <option key={category._id} value={category._id}>\r\n//                       {category.name}\r\n//                     </option>\r\n//                   ))}\r\n//                 </select>\r\n//               </div>\r\n\r\n//               {/* ✅ Subcategory Title */}\r\n//               <div className=\"mb-3\">\r\n//                 <label className=\"form-label\">Subcategory Title</label>\r\n//                 <input\r\n//                   type=\"text\"\r\n//                   className=\"form-control\"\r\n//                   placeholder=\"Enter subcategory title\"\r\n//                   value={name}\r\n//                   onChange={(e) => setName(e.target.value)}\r\n//                   required\r\n//                 />\r\n//               </div>\r\n\r\n//               {/* ✅ Image Upload */}\r\n//               <div className=\"mb-3\">\r\n//                 <label className=\"form-label\">Image</label>\r\n//                 <input type=\"file\" className=\"form-control\" onChange={handleImageChange} />\r\n//               </div>\r\n\r\n//               {/* ✅ Description */}\r\n//               <div className=\"mb-3\">\r\n//                 <label className=\"form-label\">Description</label>\r\n//                 <textarea\r\n//                   className=\"form-control\"\r\n//                   rows=\"5\"\r\n//                   placeholder=\"Write description...\"\r\n//                   value={description}\r\n//                   onChange={(e) => setDescription(e.target.value)}\r\n//                   required\r\n//                 ></textarea>\r\n//               </div>\r\n\r\n//               {/* ✅ Submit Button */}\r\n//               <button type=\"submit\" className=\"btn btn-primary w-100\">\r\n//                 Publish Subcategory\r\n//               </button>\r\n//               <Link to={`/getsubcategory/${categoryId}`}>View Subcategories</Link> \r\n\r\n//             </form>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default SubCategoryForm;\r\n\r\n\r\n\r\n\r\nimport React, { useEffect, useState } from 'react';\r\n\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport api from '../axios';\r\nconst SubCategories = () => {\r\n  const navigate=useNavigate()\r\n  const [categories, setCategories] = useState([]); // State for storing categories\r\n  const [categorytitle, setCategoryTitle] = useState(\"\"); // Selected category\r\n  const [subcategorytitle, setSubcategoryTitle] = useState(\"\"); // Subcategory name\r\n  const [photo, setPhoto] = useState(\"\");\r\n  const [photourl, setPhotourl] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n\r\n  // Fetch categories on component mount\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await api.get(\"/categories\");  // Using axios to send GET request\r\n      setCategories(response.data);  // Store categories in state\r\n    } catch (error) {\r\n      console.error(\"Error fetching categories:\", error);\r\n    }\r\n    \r\n\r\n};\r\n\r\n  useEffect(() => {\r\n    console.log(\"Selected Photo:\", photo);\r\n    if (photo) {\r\n      Upload(photo);\r\n    }\r\n  }, [photo]);\r\n\r\n  const Upload = async (photo) => {\r\n    if (!photo) {\r\n      alert(\"Please select a photo\");\r\n      return;\r\n    }\r\n    const data = new FormData();\r\n    data.append(\"file\", photo);\r\n    data.append(\"upload_preset\", \"bloggs\");\r\n    data.append(\"cloud_name\", \"dnrels1zh\");\r\n\r\n    fetch(\"https://api.cloudinary.com/v1_1/dnrels1zh/image/upload\", {\r\n\r\n    \r\n      method: \"POST\",\r\n      body: data,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.url) {\r\n          setPhotourl(data.url);\r\n          localStorage.setItem(\"photo\", data.url);\r\n        } else {\r\n          alert(\"Failed to upload photo\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Upload error:\", err);\r\n        alert(\"Error uploading photo\");\r\n      });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log(\"categorytitle:\", categorytitle);\r\n    console.log(\"subcategorytitle:\", subcategorytitle);\r\n    console.log(\"photourl:\", photourl);\r\n\r\n    if (!categorytitle || !subcategorytitle || !photourl || !content) {\r\n      alert(\"All fields are required\");\r\n      return;\r\n    }\r\n    alert(\"Submitting Sub-Category...\");\r\n\r\n    \r\n    try {\r\n      const response = await api.post(\"/insertsubcategory\", {\r\n        categoryname: categorytitle,\r\n        subcategoryname: subcategorytitle,\r\n        subcategoryimage: photourl,\r\n        content: content\r\n      });\r\n    \r\n\r\n      if (response.status === 201) {\r\n        alert(\"Sub-Category added successfully\");\r\n        navigate(\"/dashboard/smallsubcategory\")\r\n        setCategoryTitle(\"\");\r\n        setSubcategoryTitle(\"\");\r\n        setPhoto(\"\");\r\n        setPhotourl(\"\");\r\n        setContent(\"\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error submitting sub-category:\", error);\r\n      alert(\"Failed to submit sub-category\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-5 mb-4\">\r\n      <div className=\"row justify-content-center m-4\">\r\n      <Link to=\"/dashboard/getsmallsubcategory\">Get SubCategory</Link>\r\n\r\n        <div className=\"col-lg-6\">\r\n          <div className=\"card px-4 py-3 shadow-sm\">\r\n            <h2 className=\"text-center mb-3\">Add Sub-Category</h2>\r\n            <form onSubmit={handleSubmit}>\r\n              \r\n              {/* Dropdown for selecting category */}\r\n              <div className=\"mb-3\">\r\n                <label className=\"form-label\">Select Category</label>\r\n                <select \r\n                  className=\"form-control\" \r\n                  value={categorytitle} \r\n                  onChange={(e) => setCategoryTitle(e.target.value)}\r\n                  required\r\n                >\r\n                  <option value=\"\">-- Select a Category --</option>\r\n                  {categories.map((cat) => (\r\n                    <option key={cat._id} value={cat.categoryname}> \r\n                    {cat.categoryname}\r\n                  </option>\r\n                  \r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* Subcategory Name */}\r\n              <div className=\"mb-3\">\r\n                <label className=\"form-label\">Sub-Category Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Enter sub-category\"\r\n                  value={subcategorytitle}\r\n                  onChange={(e) => setSubcategoryTitle(e.target.value)}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              {/* Upload Image */}\r\n              <div className=\"mb-3\">\r\n                <label className=\"form-label\">Image</label>\r\n                <input\r\n                  type=\"file\"\r\n                  className=\"form-control\"\r\n                  onChange={(e) => setPhoto(e.target.files[0])}\r\n                />\r\n              </div>\r\n\r\n              {/* Subcategory Description */}\r\n              <div className=\"mb-3\">\r\n                <label className=\"form-label\">Sub-Category Description</label>\r\n                <textarea\r\n                  className=\"form-control\"\r\n                  rows=\"5\"\r\n                  placeholder=\"Write your description...\"\r\n                  value={content}\r\n                  onChange={(e) => setContent(e.target.value)}\r\n                  required\r\n                ></textarea>\r\n              </div>\r\n\r\n              <button type=\"submit\" className=\"btn btn-primary w-100\">\r\n                Add Sub-Category\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Blog Images */}\r\n        <div className=\"col-lg-6 mt-3 d-flex flex-column align-items-center\">\r\n          <img\r\n            src=\"https://elearningindustry.com/wp-content/uploads/2013/09/how-to-use-blogs-in-the-classroom.jpg\"\r\n            alt=\"Blog\"\r\n            className=\"img-fluid rounded shadow\"\r\n          />\r\n          <img\r\n            src=\"https://img.freepik.com/free-photo/online-message-blog-chat-communication-envelop-graphic-icon-concept_53876-139717.jpg\"\r\n            alt=\"Blog\"\r\n            className=\"img-fluid rounded shadow mt-4\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubCategories;\r\n\r\n\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAqBA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAKA,MAAO,CAAA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}