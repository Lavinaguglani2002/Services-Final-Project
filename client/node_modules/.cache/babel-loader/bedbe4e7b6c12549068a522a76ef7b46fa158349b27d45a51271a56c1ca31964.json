{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import api from\"../axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ViewSmallSubCategory=()=>{const[categories,setCategories]=useState([]);useEffect(()=>{// Use axios to fetch categories\napi.get('/categories').then(response=>{setCategories(response.data);// Set the categories from the response\n}).catch(err=>{console.log(\"Error fetching categories:\",err);// Handle error\n});},[]);// Delete subcategory\nconst deleteSubCategory=async(categoryid,subcategoryid,smallsubcategoryid)=>{const formData={categoryid,subcategoryid,smallsubcategoryid};// Data to send in the request body\ntry{const response=await api.post(\"/deletesmallsubcategory\",// Endpoint for the request\nformData,// Send form data as the request body\n{headers:{\"Content-Type\":\"application/json\"}}// Set headers\n);if(response.status===200){alert(\"Small Subcategory deleted successfully!\");setTimeout(()=>{window.location.reload();},1000);}else{alert(\"Error deleting small subcategory.\");}}catch(err){console.log(\"Delete Error:\",err);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center mb-4 text-primary\",children:\"View Small Sub-Categories\"}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped table-hover table-bordered text-center\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Sub-Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Small Sub-Category\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Created At\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delete\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Edit\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:categories.map(category=>category.subcategories.map(subcategory=>subcategory.smallsubcategories.map(smallsubcategory=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:category.categoryname}),/*#__PURE__*/_jsx(\"td\",{children:subcategory.subcategoryname}),/*#__PURE__*/_jsx(\"td\",{children:smallsubcategory.smallsubcategoryname}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:smallsubcategory.smallsubcategoryimage,alt:smallsubcategory.smallsubcategoryname,className:\"img-fluid rounded-circle\",style:{height:\"50px\",width:\"50px\",objectFit:\"cover\"}})}),/*#__PURE__*/_jsx(\"td\",{children:smallsubcategory.smallsubcategorycontent}),/*#__PURE__*/_jsx(\"td\",{children:smallsubcategory.price}),/*#__PURE__*/_jsx(\"td\",{children:new Date(smallsubcategory.createdAt).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-sm\",onClick:()=>deleteSubCategory(category._id,subcategory._id,smallsubcategory._id),children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-trash\"})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:`/dashboard/updatesmallsubcategory/${category._id}/${subcategory._id}/${smallsubcategory._id}`,children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-edit\"})})})})]},smallsubcategory._id))))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-3\",children:/*#__PURE__*/_jsxs(Link,{to:\"/dashboard/smallcategory\",className:\"btn btn-primary\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-plus-circle\"}),\" Add Small Sub Category\"]})})]});};export default ViewSmallSubCategory;","map":{"version":3,"names":["React","useEffect","useState","Link","api","jsx","_jsx","jsxs","_jsxs","ViewSmallSubCategory","categories","setCategories","get","then","response","data","catch","err","console","log","deleteSubCategory","categoryid","subcategoryid","smallsubcategoryid","formData","post","headers","status","alert","setTimeout","window","location","reload","className","children","map","category","subcategories","subcategory","smallsubcategories","smallsubcategory","categoryname","subcategoryname","smallsubcategoryname","src","smallsubcategoryimage","alt","style","height","width","objectFit","smallsubcategorycontent","price","Date","createdAt","toLocaleDateString","onClick","_id","to"],"sources":["C:/Users/Allied/Desktop/Serviceproject/client/src/Admin/Getsmallsubcategory.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport api from \"../axios\";\r\n\r\nconst ViewSmallSubCategory = () => {\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Use axios to fetch categories\r\n    api.get('/categories')\r\n      .then((response) => {\r\n        setCategories(response.data);  // Set the categories from the response\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error fetching categories:\", err);  // Handle error\r\n      });\r\n  }, []);\r\n  \r\n\r\n  // Delete subcategory\r\n\r\n  const deleteSubCategory = async (categoryid, subcategoryid, smallsubcategoryid) => {\r\n    const formData = { categoryid, subcategoryid, smallsubcategoryid };  // Data to send in the request body\r\n  \r\n    try {\r\n      const response = await api.post(\r\n        \"/deletesmallsubcategory\",  // Endpoint for the request\r\n        formData,  // Send form data as the request body\r\n        { headers: { \"Content-Type\": \"application/json\" } }  // Set headers\r\n      );\r\n  \r\n      if (response.status === 200) {\r\n        alert(\"Small Subcategory deleted successfully!\");\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 1000);\r\n      } else {\r\n        alert(\"Error deleting small subcategory.\");\r\n      }\r\n    } catch (err) {\r\n      console.log(\"Delete Error:\", err);\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <h1 className=\"text-center mb-4 text-primary\">View Small Sub-Categories</h1>\r\n\r\n      <div className=\"table-responsive\">\r\n        <table className=\"table table-striped table-hover table-bordered text-center\">\r\n          <thead className=\"table-dark\">\r\n            <tr>\r\n              <th>Category</th>\r\n              <th>Sub-Category</th>\r\n              <th>Small Sub-Category</th>\r\n              <th>Image</th>\r\n              <th>Description</th>\r\n              <th>Price</th>\r\n              <th>Created At</th>\r\n              <th>Delete</th>\r\n              <th>Edit</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {categories.map((category) =>\r\n              category.subcategories.map((subcategory) =>\r\n                subcategory.smallsubcategories.map((smallsubcategory) => (\r\n                  <tr key={smallsubcategory._id}>\r\n                    <td>{category.categoryname}</td>\r\n                    <td>{subcategory.subcategoryname}</td>\r\n                    <td>{smallsubcategory.smallsubcategoryname}</td>\r\n                    <td>\r\n                      <img\r\n                        src={smallsubcategory.smallsubcategoryimage}\r\n                        alt={smallsubcategory.smallsubcategoryname}\r\n                        className=\"img-fluid rounded-circle\"\r\n                        style={{ height: \"50px\", width: \"50px\", objectFit: \"cover\" }}\r\n                      />\r\n                    </td>\r\n                    <td>{smallsubcategory.smallsubcategorycontent}</td>\r\n                    <td>{smallsubcategory.price}</td>\r\n                    <td>{new Date(smallsubcategory.createdAt).toLocaleDateString()}</td>\r\n\r\n                    {/* Delete Button - Separate TD */}\r\n                    <td>\r\n                      <button\r\n                        className=\"btn btn-danger btn-sm\"\r\n                        onClick={() =>\r\n                          deleteSubCategory(category._id, subcategory._id, smallsubcategory._id)\r\n                        }\r\n                      >\r\n                        <i className=\"fa fa-trash\"></i>\r\n                      </button>\r\n                    </td>\r\n\r\n                    {/* Edit Button - Separate TD */}\r\n                    <td>\r\n                      <Link\r\n                        to={`/dashboard/updatesmallsubcategory/${category._id}/${subcategory._id}/${smallsubcategory._id}`}\r\n                      >\r\n                        <button className=\"btn btn-warning btn-sm\">\r\n                          <i className=\"fa fa-edit\"></i>\r\n                        </button>\r\n                      </Link>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      <div className=\"text-center mt-3\">\r\n        <Link to=\"/dashboard/smallcategory\" className=\"btn btn-primary\">\r\n          <i className=\"fa fa-plus-circle\"></i> Add Small Sub Category\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewSmallSubCategory;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,GAAG,KAAM,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3B,KAAM,CAAAC,oBAAoB,CAAGA,CAAA,GAAM,CACjC,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAEhDD,SAAS,CAAC,IAAM,CACd;AACAG,GAAG,CAACQ,GAAG,CAAC,aAAa,CAAC,CACnBC,IAAI,CAAEC,QAAQ,EAAK,CAClBH,aAAa,CAACG,QAAQ,CAACC,IAAI,CAAC,CAAG;AACjC,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,EAAK,CACdC,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAEF,GAAG,CAAC,CAAG;AACnD,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAGN;AAEA,KAAM,CAAAG,iBAAiB,CAAG,KAAAA,CAAOC,UAAU,CAAEC,aAAa,CAAEC,kBAAkB,GAAK,CACjF,KAAM,CAAAC,QAAQ,CAAG,CAAEH,UAAU,CAAEC,aAAa,CAAEC,kBAAmB,CAAC,CAAG;AAErE,GAAI,CACF,KAAM,CAAAT,QAAQ,CAAG,KAAM,CAAAV,GAAG,CAACqB,IAAI,CAC7B,yBAAyB,CAAG;AAC5BD,QAAQ,CAAG;AACX,CAAEE,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAE,CAAG;AACvD,CAAC,CAED,GAAIZ,QAAQ,CAACa,MAAM,GAAK,GAAG,CAAE,CAC3BC,KAAK,CAAC,yCAAyC,CAAC,CAChDC,UAAU,CAAC,IAAM,CACfC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC1B,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,IAAM,CACLJ,KAAK,CAAC,mCAAmC,CAAC,CAC5C,CACF,CAAE,MAAOX,GAAG,CAAE,CACZC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAEF,GAAG,CAAC,CACnC,CACF,CAAC,CAED,mBACET,KAAA,QAAKyB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B5B,IAAA,OAAI2B,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAC,2BAAyB,CAAI,CAAC,cAE5E5B,IAAA,QAAK2B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/B1B,KAAA,UAAOyB,SAAS,CAAC,4DAA4D,CAAAC,QAAA,eAC3E5B,IAAA,UAAO2B,SAAS,CAAC,YAAY,CAAAC,QAAA,cAC3B1B,KAAA,OAAA0B,QAAA,eACE5B,IAAA,OAAA4B,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjB5B,IAAA,OAAA4B,QAAA,CAAI,cAAY,CAAI,CAAC,cACrB5B,IAAA,OAAA4B,QAAA,CAAI,oBAAkB,CAAI,CAAC,cAC3B5B,IAAA,OAAA4B,QAAA,CAAI,OAAK,CAAI,CAAC,cACd5B,IAAA,OAAA4B,QAAA,CAAI,aAAW,CAAI,CAAC,cACpB5B,IAAA,OAAA4B,QAAA,CAAI,OAAK,CAAI,CAAC,cACd5B,IAAA,OAAA4B,QAAA,CAAI,YAAU,CAAI,CAAC,cACnB5B,IAAA,OAAA4B,QAAA,CAAI,QAAM,CAAI,CAAC,cACf5B,IAAA,OAAA4B,QAAA,CAAI,MAAI,CAAI,CAAC,EACX,CAAC,CACA,CAAC,cACR5B,IAAA,UAAA4B,QAAA,CACGxB,UAAU,CAACyB,GAAG,CAAEC,QAAQ,EACvBA,QAAQ,CAACC,aAAa,CAACF,GAAG,CAAEG,WAAW,EACrCA,WAAW,CAACC,kBAAkB,CAACJ,GAAG,CAAEK,gBAAgB,eAClDhC,KAAA,OAAA0B,QAAA,eACE5B,IAAA,OAAA4B,QAAA,CAAKE,QAAQ,CAACK,YAAY,CAAK,CAAC,cAChCnC,IAAA,OAAA4B,QAAA,CAAKI,WAAW,CAACI,eAAe,CAAK,CAAC,cACtCpC,IAAA,OAAA4B,QAAA,CAAKM,gBAAgB,CAACG,oBAAoB,CAAK,CAAC,cAChDrC,IAAA,OAAA4B,QAAA,cACE5B,IAAA,QACEsC,GAAG,CAAEJ,gBAAgB,CAACK,qBAAsB,CAC5CC,GAAG,CAAEN,gBAAgB,CAACG,oBAAqB,CAC3CV,SAAS,CAAC,0BAA0B,CACpCc,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAM,CAAEC,KAAK,CAAE,MAAM,CAAEC,SAAS,CAAE,OAAQ,CAAE,CAC9D,CAAC,CACA,CAAC,cACL5C,IAAA,OAAA4B,QAAA,CAAKM,gBAAgB,CAACW,uBAAuB,CAAK,CAAC,cACnD7C,IAAA,OAAA4B,QAAA,CAAKM,gBAAgB,CAACY,KAAK,CAAK,CAAC,cACjC9C,IAAA,OAAA4B,QAAA,CAAK,GAAI,CAAAmB,IAAI,CAACb,gBAAgB,CAACc,SAAS,CAAC,CAACC,kBAAkB,CAAC,CAAC,CAAK,CAAC,cAGpEjD,IAAA,OAAA4B,QAAA,cACE5B,IAAA,WACE2B,SAAS,CAAC,uBAAuB,CACjCuB,OAAO,CAAEA,CAAA,GACPpC,iBAAiB,CAACgB,QAAQ,CAACqB,GAAG,CAAEnB,WAAW,CAACmB,GAAG,CAAEjB,gBAAgB,CAACiB,GAAG,CACtE,CAAAvB,QAAA,cAED5B,IAAA,MAAG2B,SAAS,CAAC,aAAa,CAAI,CAAC,CACzB,CAAC,CACP,CAAC,cAGL3B,IAAA,OAAA4B,QAAA,cACE5B,IAAA,CAACH,IAAI,EACHuD,EAAE,CAAE,qCAAqCtB,QAAQ,CAACqB,GAAG,IAAInB,WAAW,CAACmB,GAAG,IAAIjB,gBAAgB,CAACiB,GAAG,EAAG,CAAAvB,QAAA,cAEnG5B,IAAA,WAAQ2B,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACxC5B,IAAA,MAAG2B,SAAS,CAAC,YAAY,CAAI,CAAC,CACxB,CAAC,CACL,CAAC,CACL,CAAC,GArCEO,gBAAgB,CAACiB,GAsCtB,CACL,CACH,CACF,CAAC,CACI,CAAC,EACH,CAAC,CACL,CAAC,cAENnD,IAAA,QAAK2B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/B1B,KAAA,CAACL,IAAI,EAACuD,EAAE,CAAC,0BAA0B,CAACzB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC7D5B,IAAA,MAAG2B,SAAS,CAAC,mBAAmB,CAAI,CAAC,0BACvC,EAAM,CAAC,CACJ,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxB,oBAAoB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}